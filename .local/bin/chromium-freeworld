#!/usr/bin/env bash
#
# Wrapper for Chromium to get flags from a file.
# Lines starting with `#` are ignored.
#
# Author: Rafael Cavalcanti <https://rafaelc.org/dev>

readonly flags_file="${XDG_CONFIG_HOME:-$HOME/.config}/chromium/flags.conf"

if [[ -f "$flags_file" ]]; then
   readonly flags="$(sed '/^#/d' "$flags_file")"
fi

exec /usr/bin/"$(basename "$0")" ${flags:-} "$@"
